import{i as e}from"./vendor.5d6055c9.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let t=[];function o(){var e;e=7,t=Array(6).fill(0).map((()=>Array(e).fill(0)))}function r(e,o=1,r=4){var i,c;t=l(t);for(let l=0;l<6;l++)if(0!==(null==(i=t[l+1])?void 0:i[+e])&&0===(null==(c=t[l])?void 0:c[+e])){t[l][+e]=o;const i=[...n([t,o,l,+e],r),[l,+e]];return{disc:[l,+e],seq:i.length>r-1?i:[],newGrid:t}}}function n(e,t){const o=[];return[{v:1,h:0},{v:1,h:1},{v:0,h:1},{v:1,h:-1}].forEach((r=>{const n=[...i(e,r.v,r.h),...i(e,-r.v,-r.h)];n.length>t-2&&o.push(...n)})),o}const l=e=>e.map((e=>e.slice()));function i([e,t,o,r],n,l){var i;let c=[];for(let s=1;(null==(i=e[o+n*s])?void 0:i[r+l*s])===t;s++)c.push([o+n*s,r+l*s]);return c}const c=document.querySelector("#grid");let s,a="";function d(e,o){let n;if(n=e?r(o):r(o,2),console.log("isPlayer",e,"discDrop",n),n){if(l=n.newGrid,t=l,p([n.disc],e?1:2),n.seq.length>0&&p(n.seq,e?-1:-2),n.seq.length>=4&&(a="gameover"),"gameover"===a)return f(e?"player":"opponent");if(function(){let e=!0;return t[0].forEach((t=>0===t?e=!1:void 0)),e}())return f("none");e&&(s.emit("drop",o),console.log(`emit ${o}`))}var l}function u(){t.forEach(((e,t)=>{e.forEach(((e,o)=>{const r=y("slot-template").querySelector(".slot");r.dataset.x=o,r.dataset.y=t,c.appendChild(r)}))}))}function p(e,t){e.forEach((e=>{c.querySelector(`.slot[data-y="${e[0]}"][data-x="${e[1]}"]`).dataset.value=t}))}function f(e){const t=y("game-over-template");var o;t.querySelector("#game-over-result").textContent="player"==(o=e)?"Player Wins! ðŸŽ‰":"opponent"==o?"Computer Wins ðŸ˜‚":"Tie Game ðŸ˜¦",document.body.appendChild(t)}function y(e){return document.getElementById(e).content.cloneNode(!0)}s=e("http://192.168.0.22:5000"),function(){const e=y("title-template").querySelector(".title");a="title",document.body.appendChild(e)}(),o(),c.style.setProperty("--width",7),c.style.setProperty("--height",6),u(),document.querySelector(".title").onclick=e=>{if("dumbot"==e.target.id)return document.querySelector(".title").remove(),void(a="player")},document.querySelector("#grid").onclick=e=>{"gameover"===a&&(document.querySelector(".game-over").remove(),a="player",o(),c.innerHTML="",c.style.setProperty("--width",7),c.style.setProperty("--height",6),u()),e.target.classList.contains("slot")&&"player"==a&&(a="opponent",d(!0,+e.target.dataset.x))},s.on("drop",(e=>{console.log(`on ${e}`),a="player",d(!1,e)}));
